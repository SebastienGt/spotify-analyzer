(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){},38:function(e,t,n){},5:function(e,t,n){e.exports={logo:"stylesheet_logo__2uEl9",header:"stylesheet_header__3Nf3I",centerImage:"stylesheet_centerImage__1aUbr",loginButton:"stylesheet_loginButton__3Ewfh",button:"stylesheet_button__3cuJq",login:"stylesheet_login__1D8sD",Login:"stylesheet_Login__1OvL9",liste:"stylesheet_liste__1rscz",items:"stylesheet_items__1GDcS",btn:"stylesheet_btn__3Yvdg",playing:"stylesheet_playing__20ONC",content:"stylesheet_content__3Lc_Y",row:"stylesheet_row__3bIFG",columnLeft:"stylesheet_columnLeft__33S5v",columnRight:"stylesheet_columnRight__2tSP2",noScrollDiv:"stylesheet_noScrollDiv__1NV1U",songPlaying:"stylesheet_songPlaying__1X6AL"}},65:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n(27),r=n.n(c),i=(n(38),n(6)),a=n(3),o=(n(10),n(4)),l=n.n(o),u=n(8),j=n(2),h=n.n(j),d=function(e){return function(){return e.apply(void 0,arguments).catch((function(e){console.error(e)}))}},b=function(e){window.localStorage.setItem("spotify_token_timestamp",Date.now()),window.localStorage.setItem("spotify_access_token",e)},p=function(){return window.localStorage.getItem("spotify_refresh_token")},x=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/refresh_token?refresh_token=".concat(p()));case 3:return t=e.sent,n=t.data,s=n.access_token,b(s),window.location.reload(),e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,s=window.location.hash.substring(1);e=n.exec(s);)t[e[1]]=decodeURIComponent(e[2]);return t}(),t=e.error,n=e.access_token,s=e.refresh_token;t&&(console.error(t),x()),Date.now()-window.localStorage.getItem("spotify_token_timestamp")>36e5&&(console.warn("Access token has expired, refreshing..."),x());var c=window.localStorage.getItem("spotify_access_token"),r=p();return r&&"undefined"!==r||function(e){window.localStorage.setItem("spotify_refresh_token",e)}(s),c&&"undefined"!==c?c:(b(n),n)}(),m=function(){window.localStorage.removeItem("spotify_token_timestamp"),window.localStorage.removeItem("spotify_access_token"),window.localStorage.removeItem("spotify_refresh_token"),window.location.reload()},g={Authorization:"Bearer ".concat(f),"Content-Type":"application/json"};var O=function(e){return h.a.get("https://api.spotify.com/v1/tracks/".concat(e),{headers:g})},y=function(e){return h.a.get("https://api.spotify.com/v1/audio-analysis/".concat(e),{headers:g})},v=function(e){return h.a.get("https://api.spotify.com/v1/audio-features/".concat(e),{headers:g})},_=function(){return h.a.all([h.a.get("https://api.spotify.com/v1/me",{headers:g}),h.a.get("https://api.spotify.com/v1/me/following?type=artist",{headers:g}),h.a.get("https://api.spotify.com/v1/me/playlists",{headers:g}),h.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=long_term",{headers:g}),h.a.get("https://api.spotify.com/v1/me/top/tracks?limit=50&time_range=long_term",{headers:g})]).then(h.a.spread((function(e,t,n,s,c){return{user:e.data,followedArtists:t.data,playlists:n.data,topArtists:s.data,topTracks:c.data}})))},w=(n(25),{colors:{green:"#1DB954",offGreen:"#1ed760",blue:"#509bf5",navBlack:"#040306",black:"#191414",white:"#FFFFFF",lightestGrey:"#b3b3b3",lightGrey:"#c4c4c4",grey:"#404040",darkGrey:"#282828"},fonts:{primary:"Circular Std, system, -apple-system, BlinkMacSystemFont, sans-serif"},fontSizes:{base:"16px",xs:"12px",sm:"14px",md:"20px",lg:"24px",xl:"28px",xxl:"32px"},spacing:{base:"20px",xs:"5px",sm:"10px",md:"30px",lg:"50px",xl:"100px"},easing:{easeInCubic:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",easeOutCubic:"cubic-bezier(0.215, 0.61, 0.355, 1)",easeInOutCubic:"cubic-bezier(0.215, 0.61, 0.355, 1)",easeInExpo:"cubic-bezier(0.95, 0.05, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.19, 1, 0.22, 1)",easeInOutExpo:"cubic-bezier(0.19, 1, 0.22, 1)",easeInBack:"cubic-bezier(0.6, -0.28, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",easeInOutBack:"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},transition:"all 0.25s cubic-bezier(0.3, 0, 0.4, 1);",navWidth:"300px",navHeight:"200px"}),k=n.p+"static/media/spotify_logo.1d5708b9.png",S=n(5),I=n.n(S),N=n(0),C=w.colors,F=a.b.a.withConfig({displayName:"LoginScreen__LoginButton",componentId:"sc-17xjqux-0"})(["display:inline-block;background-color:",";color:",";border-radius:30px;margin-top:20px;padding:17px 35px;margin:20px 0 70px;min-width:160px;font-weight:700;letter-spacing:2px;text-transform:uppercase;text-align:center;text-decoration:none;&:hover,&:focus{background-color:",";color:",";text-decoration:none;}"],C.green,C.white,C.offGreen,C.white),z=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:I.a.header,children:Object(N.jsx)("img",{className:I.a.logo,src:k,alt:"BigCo Inc. logo",width:"200px",height:"60px",align:!0})}),Object(N.jsxs)("div",{className:I.a.login,children:[Object(N.jsx)("h1",{children:"Spotify Profile"}),Object(N.jsx)(F,{href:"https://mighty-shore-31251.herokuapp.com/login",children:"Login to Spotify"})]})]})},B=n(12),L=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){d(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,n=t.user,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[]),Object(N.jsx)(N.Fragment,{children:n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("img",{src:n.images[0].url,alt:"Profil",width:"400",height:"400"}),Object(N.jsxs)("h4",{children:[" ",n.display_name]}),Object(N.jsxs)("h5",{children:[" ",n.email]}),Object(N.jsxs)("h5",{children:[" Followers : ",n.followers.total," "]})]}):Object(N.jsx)("h4",{children:"Reconnectez-vous"})})};var A,E=function(e,t){var n="https://api.lyrics.ovh/v1/"+e+"/"+t;return h.a.get(n).then((function(e){return e.data}))},G=n(32),D=w.colors,P=w.fontSizes,R={flexCenter:Object(a.a)(["display:flex;justify-content:center;align-items:center;"]),flexBetween:Object(a.a)(["display:flex;justify-content:space-between;align-items:center;"]),engulf:Object(a.a)(["position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;"]),outline:Object(a.a)(["outline:1px solid red;"]),overflowEllipsis:Object(a.a)(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:1px;"]),coverShadow:Object(a.a)(["box-shadow:0 0 10px rgba(0,0,0,0.3);"]),button:Object(a.a)(["display:inline-block;color:",";font-weight:700;font-size:",";letter-spacing:1px;text-transform:uppercase;border:1px solid ",";border-radius:50px;padding:11px 24px;cursor:pointer;transition:",";&:hover,&:focus{color:",";background:",";outline:0;}"],D.white,P.xs,D.white,w.transition,D.black,D.white),greenButton:Object(a.a)(["display:inline-block;background-color:",";color:",";font-weight:700;font-size:",";letter-spacing:1px;text-transform:uppercase;border-radius:50px;padding:11px 24px;margin:20px 0;cursor:pointer;transition:",";&:hover,&:focus{background-color:",";outline:0;}"],D.green,D.white,P.xs,w.transition,D.offGreen)},T=w.colors,q=a.b.div.withConfig({displayName:"Loader__Container",componentId:"sc-1op2stc-0"})(["",";width:100%;height:90vh;"],R.flexCenter),M=Object(a.c)(A||(A=Object(G.a)(["\n  from {\n    height: 10px;\n  }\n  to {\n    height: 100%;\n  }\n"]))),U=a.b.div.withConfig({displayName:"Loader__Bars",componentId:"sc-1op2stc-1"})(["display:flex;justify-content:center;align-items:flex-end;overflow:hidden;width:100px;min-width:100px;height:50px;margin:0 auto;z-index:2;position:relative;left:0;right:0;"]),V=a.b.div.withConfig({displayName:"Loader__Bar",componentId:"sc-1op2stc-2"})(["width:10px;height:5px;margin:0 2px;background-color:",";animation-name:",";animation-duration:400ms;animation-play-state:running;animation-direction:alternate;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:",";"],T.grey,M,(function(e){return e.delay||"0ms"})),H=function(){return Object(N.jsx)(q,{children:Object(N.jsxs)(U,{children:[Object(N.jsx)(V,{delay:"250ms"}),Object(N.jsx)(V,{delay:"715ms"}),Object(N.jsx)(V,{delay:"475ms"}),Object(N.jsx)(V,{delay:"25ms"}),Object(N.jsx)(V,{delay:"190ms"})]})})},J=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),a=Object(i.a)(r,2),o=a[0],j=a[1],b=Object(s.useState)(""),p=Object(i.a)(b,2),x=p[0],f=p[1],m=Object(s.useState)(Date.now()),_=Object(i.a)(m,2),w=_[0],k=_[1];return Object(s.useEffect)((function(){d(function(){var e=Object(u.a)(l.a.mark((function e(){var t,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.spotify.com/v1/me/player/currently-playing",{headers:g});case 2:t=e.sent,s=t.data,null!=n&&s.item.id===n.item.id||(c(s),s&&(j(""),E(s.item.artists[0].name,s.item.name,o).then((function(e){console.log(e),console.log(e.lyrics),j(e.lyrics)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[w,n,o]),Object(s.useEffect)((function(){d(function(){var e=Object(u.a)(l.a.mark((function e(){var t,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(""),!n){e.next=10;break}return e.next=4,r=n.item.id,h.a.all([O(r),y(r),v(r)]).then(h.a.spread((function(e,t,n){return{track:e.data,audioAnalysis:t.data,audioFeatures:n.data}})));case 4:t=e.sent,s=t.audioAnalysis,c=t.audioFeatures,console.log("Audio Analysis : "+s),console.log("Audio features : "+c),f(c);case 10:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}()())}),[n]),Object(s.useEffect)((function(){var e=setInterval((function(){console.log("Run every seconds"),k(Date.now())}),1e3);return function(){clearInterval(e)}}),[w]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:I.a.row,children:[Object(N.jsxs)("div",{className:I.a.columnLeft,children:[Object(N.jsx)("div",{children:n?Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{className:I.a.current,children:" Song currently played :"}),Object(N.jsx)("img",{className:I.a.songPlaying,src:n.item.album.images[0].url,alt:"Album"}),Object(N.jsxs)("h3",{children:[" ",n.item.name," -  ",n.item.artists[0].name," "]})]}):Object(N.jsx)("h1",{children:"No current song playing"})}),Object(N.jsx)("div",{children:x?Object(N.jsx)("div",{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{className:I.a.current,children:" Song informations :"}),Object(N.jsxs)("a",{href:!0,children:["Danceability : ",x.danceability," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Energy : ",x.energy," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Key : ",x.key," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Loudness : ",x.loudness," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Mode : ",x.mode," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Speechiness : ",x.speechiness," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["acousticness : ",x.acousticness," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Instrumentalness : ",x.instrumentalness," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Livness : ",x.liveness," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Valence : ",x.valence," "]}),Object(N.jsx)("br",{}),Object(N.jsxs)("a",{href:!0,children:["Tempo : ",x.tempo," "]})]})}):Object(N.jsx)("h5",{children:"Aucune information sur le morceau"})})]}),Object(N.jsx)("div",{className:I.a.columnRight,children:o?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{className:I.a.current,children:" Lyrics :"}),Object(N.jsx)("div",{className:I.a.noScrollDiv,children:o.split("\n").map((function(e,t){return Object(N.jsxs)("span",{children:[e,Object(N.jsx)("br",{})]},t)}))})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("a",{href:!0,children:"Les paroles n'ont pas \xe9t\xe9 trouv\xe9es"}),Object(N.jsx)(H,{})]})})]})})},W=n(33),Y=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){d(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,n=t.user,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[]),Object(N.jsx)("div",{children:n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h4",{children:[" ",n.display_name]}),Object(N.jsxs)("h5",{children:[" ",n.email]}),Object(N.jsx)("button",{className:I.a.loginButton,onClick:m,children:Object(N.jsx)("a",{href:!0,children:"Logout"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{children:"Reconnectez-vous"}),Object(N.jsx)("button",{className:I.a.loginButton,onClick:m,children:"Logout"})]})})},K=w.colors,X=w.fontSizes,Q=function(e){return e.isCurrent?{className:"active"}:null},Z=a.b.nav.withConfig({displayName:"Nav__Container",componentId:"sc-1kcwlvo-0"})(["",";",";flex-direction:column;min-height:100vh;position:fixed;top:0;left:0;margin-left:-40px;width:",";background-color:#000000;text-align:center;& > *{width:100%;}"],R.coverShadow,R.flexBetween,w.navWidth),$=a.b.ul.withConfig({displayName:"Nav__Menu",componentId:"sc-1kcwlvo-1"})(["display:flex;flex-direction:column;list-style-type:none;"]),ee=a.b.li.withConfig({displayName:"Nav__MenuItem",componentId:"sc-1kcwlvo-2"})(["color:",";font-size:11px;a{text-decoration:none;display:block;padding:10% 0;width:100%;height:100%;color:lightGrey;font-size:",";&:hover,&:focus,&.active{color:",";background-color:#282828;border-bottom:5px solid ",";}}svg{width:20px;height:20px;color:lightGrey;}"],K.lightGrey,X.md,K.white,K.green),te=a.b.li.withConfig({displayName:"Nav__MenuHeader",componentId:"sc-1kcwlvo-3"})(["margin-top:20px;margin-bottom:25px;color:",";font-size:11px;border-bottom:4px solid ",";}"],K.white,K.green),ne=function(e){return Object(N.jsx)(B.a,Object(W.a)({getProps:Q},e))},se=function(){return Object(N.jsx)(Z,{children:Object(N.jsxs)($,{children:[Object(N.jsx)(te,{children:Object(N.jsx)(Y,{})}),Object(N.jsx)(ee,{children:Object(N.jsx)(ne,{to:"/",children:Object(N.jsx)("div",{children:"Accueil"})})}),Object(N.jsx)(ee,{children:Object(N.jsx)(ne,{to:"playing",children:Object(N.jsx)("div",{children:"Playing"})})}),Object(N.jsx)(ee,{children:Object(N.jsx)(ne,{to:"artists",children:Object(N.jsx)("div",{children:"Artists"})})}),Object(N.jsx)(ee,{children:Object(N.jsx)(ne,{to:"stats",children:Object(N.jsx)("div",{children:"Songs"})})}),Object(N.jsx)(ee,{children:Object(N.jsx)(ne,{to:"profil",children:Object(N.jsx)("div",{children:"Profil"})})}),Object(N.jsx)(ee,{children:Object(N.jsx)("a",{class:"btn",href:"https://github.com/SebastienGt/spotify-analyzer",children:"GitHub"})})]})})},ce=function(){},re=function(){return Object(N.jsx)(N.Fragment,{})},ie=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){d(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=short_term",{headers:g});case 2:t=e.sent,n=t.data,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Vos artistes les plus \xe9cout\xe9s : "}),Object(N.jsx)("div",{children:n?Object(N.jsx)("div",{children:Object(N.jsx)("ul",{children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19].map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h2",{children:[" ",e+1," "]}),Object(N.jsx)("h2",{children:n.items[e].name}),Object(N.jsx)("img",{src:n.items[e].images[2].url,alt:"Album"})]},e.toString())}))})}):Object(N.jsx)("h1",{children:"No current stats on artists"})})]})},ae=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{href:!0,children:"Bienvenue dans Spotify Analyzer !"}),Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:!0,children:"Nous avons cr\xe9\xe9 ce site pour avoir les paroles des musiques Spotify que nous \xe9coutions."}),Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:!0,children:"Nous esp\xe9rons que le site vous plaira !"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:!0,children:"Un projet de S\xe9bastien Friedberg et Alexandre Gomez."})]})},oe=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){d(function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.spotify.com/v1/me/top/tracks?time_range=short_term&limit=50&offset=5",{headers:g});case 2:t=e.sent,n=t.data,c(n),console.log(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"Vos titres les plus \xe9cout\xe9s : "}),Object(N.jsx)("div",{children:n?Object(N.jsx)("div",{children:Object(N.jsx)("ul",{children:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19].map((function(e){return Object(N.jsxs)("li",{children:[Object(N.jsxs)("h2",{children:[" ",e+1," "]}),Object(N.jsxs)("h2",{children:[" ",n.items[e].name," "]}),Object(N.jsx)("img",{src:n.items[e].album.images[1].url,alt:"Tracks"})]},e.toString())}))})}):Object(N.jsx)("h1",{children:"No current stats on tracks"})})]})},le=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:I.a.header,children:Object(N.jsx)("img",{className:I.a.logo,src:k,alt:"BigCo Inc. logo",width:"200px",height:"60px",align:!0})}),Object(N.jsx)(se,{}),Object(N.jsx)("div",{className:I.a.content,children:Object(N.jsxs)(B.b,{primary:!1,children:[Object(N.jsx)(ce,{path:"UserInfo"}),Object(N.jsx)(ae,{path:"/"}),Object(N.jsx)(J,{path:"playing"}),Object(N.jsx)(ie,{path:"artists"}),Object(N.jsx)(re,{path:"playlist"}),Object(N.jsx)(L,{path:"profil"}),Object(N.jsx)(oe,{path:"stats"})]})})]})},ue=a.b.div.withConfig({displayName:"Start__AppContainer",componentId:"rr0ztm-0"})(["min-height:90vh;"]),je=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){c(f)}),[]),Object(N.jsx)(ue,{children:n?Object(N.jsx)(le,{}):Object(N.jsx)(z,{})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),r(e),i(e)}))};r.a.render(Object(N.jsx)(je,{}),document.getElementById("root")),he()}},[[65,1,2]]]);
//# sourceMappingURL=main.d816f15e.chunk.js.map